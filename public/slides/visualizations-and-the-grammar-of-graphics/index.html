<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>CFSS: Computing for the Social Sciences</title><meta name=description content='<!DOCTYPE html> Visualizations and the Grammar of Graphics class: center, middle, inverse, title-slide .title[ # Visualizations and the Grammar of Graphics ] .author[ ### MACSS 30500 University of Chicago ] --- class: inverse, middle # Why visualize data? --- class: center, middle Consider the following 13 datasets: | ID| `\(N\)`| `\(\bar{X}\)`| `\(\bar{Y}\)`| `\(\sigma_{X}\)`| `\(\sigma_{Y}\)`| `\(R\)`| |--:|---:|---------:|---------:|------------:|------------:|----------:| | 1| 142| 54.26610| 47.83472| 16.76983| 26.93974| -0.0641284| | 2| 142| 54.26873| 47.83082| 16.76924| 26.93573| -0.0685864| | 3| 142| 54.26732| 47.83772| 16.76001| 26.93004| -0.0683434| | 4| 142| 54.26327| 47.83225| 16.76514| 26.93540| -0.0644719| | 5| 142| 54.26030| 47.83983| 16.76774| 26.93019| -0.0603414| | 6| 142| 54.26144| 47.83025| 16.76590| 26.93988| -0.0617148| | 7| 142| 54.26881| 47.83545| 16.76670| 26.94000| -0.0685042| | 8| 142| 54.26785| 47.83590| 16.76676| 26.93610| -0.0689797| | 9| 142| 54.26588| 47.83150| 16.76885| 26.93861| -0.0686092| | 10| 142| 54.26734| 47.83955| 16.76896| 26.93027| -0.0629611| | 11| 142| 54.26993| 47.83699| 16.76996| 26.93768| -0.0694456| | 12| 142| 54.26692| 47.83160| 16.77000| 26.93790| -0.0665752| | 13| 142| 54.26015| 47.83972| 16.76996| 26.93000| -0.0655833| --- class: center, middle If we estimate linear regression models for each dataset, we obtain virtually identical coefficients, again suggesting the relationships are identical <img src="index_files/figure-html/datasaurus-lm-1.png" width="80%" style="display: block; margin: auto;" /> --- class: center, middle But what happens if we draw a picture? <img src="index_files/figure-html/datasaurus-graph-1.gif" width="90%" style="display: block; margin: auto;" /> --- class: center, middle These 13 datasets have the same summary statistics, yet they are drastically different in appearance! <img src="index_files/figure-html/datasaurus-graph-static-1.png" width="90%" style="display: block; margin: auto;" /> --- class: inverse, middle # The Grammar of Graphics --- ## Grammar and Grammar of Graphics > A **Grammar** can be broadly defined as the whole system and structure of a language or of languages in general, usually taken as consisting of syntax and morphology (including inflections) and sometimes also phonology and semantics. It what makes communication possible > Applied to visualizations, a **Grammar of Graphics** is a grammar that makes it possibile to create a wide range of statistical graphics! --- ### Grammar of Graphics * A grammar used to create a wide range of statistical graphics * Grammar of graphics approach: implemented in **[`ggplot2`](https://cran.r-project.org/web/packages/ggplot2/index.html)**, a widely used graphics library for R * ggplot2 is part of the **[`tidyverse`](https://www.tidyverse.org/)** a collection of R packages designed for data science that share the same grammar and data structures. We will learn how to use multiple packages from tidyverse in this course. --- class: inverse, middle # Main components of the Grammar of Graphics > Go to "The Grammar of Graphics" notes in our website to follow along --- # Grammar of Graphics: the layer cake approach .footnote[*Thanks to Jennifer Lin for this metaphor*] * graph layer + * data layer + * label layer + * theme layer + * other layer + --- # Data: Gapminder and other data Gapminder data cover multiple countries over multiple years and include information on life expectancy and population. This is one of multiple &#39;sample&#39; datasets available for R (others including iris and mtcars). It&#39;s neat because to use it, you can just call `install.packages("gapminder")` and then `data(gapminder)`. --- # Basic graph: preloaded data Let&#39;s start with mtcars (you will see MANY EXAMPLES using this on stackoverflow). In a fresh Rmd file, create a code chunk that calls `data(mtcars)` ```r data(mtcars) head(mtcars) ``` ``` ## mpg cyl disp hp drat wt qsec vs am gear carb ## Mazda RX4 21.0 6 160 110 3.90 2.620 16.46 0 1 4 4 ## Mazda RX4 Wag 21.0 6 160 110 3.90 2.875 17.02 0 1 4 4 ## Datsun 710 22.8 4 108 93 3.85 2.320 18.61 1 1 4 1 ## Hornet 4 Drive 21.4 6 258 110 3.08 3.215 19.44 1 0 3 1 ## Hornet Sportabout 18.7 8 360 175 3.15 3.440 17.02 0 0 3 2 ## Valiant 18.1 6 225 105 2.76 3.460 20.22 1 0 3 1 ``` --- # Where we&#39;re going: graph somewhat prettiness <img src="index_files/figure-html/unnamed-chunk-2-1.png" width="80%" style="display: block; margin: auto;" /> --- # ggplot layer This layer sets up the graph itself. Note that if you just set the data, as I do here, you basically get a blank slate. -- I have told it what I want for the data and my respective axes but I haven&#39;t actually plotted anything yet! ```r ggplot(mtcars, aes(x = mpg, y = wt)) ``` <img src="index_files/figure-html/unnamed-chunk-3-1.png" width="50%" style="display: block; margin: auto;" /> --- # graph layer Then, we just add each element with a `+` after. Here, we have a few options for how we want the "things" on the graph to appear. Option 1: points. (note, there are multiple ways we could choose to set this up). ```r ggplot(mtcars, aes(x = mpg, y = wt)) + geom_point() ``` <img src="index_files/figure-html/unnamed-chunk-4-1.png" width="50%" style="display: block; margin: auto;" /> --- # graph layer Then, we just add each element with a `+` after. Here, we have a few options for how we want the "things" on the graph to appear. Option 2: text (note, there are multiple ways we could choose to set this up). ```r ggplot(mtcars, aes(x = mpg, y = wt)) + geom_text(label = rownames(mtcars), check_overlap = TRUE) ``` <img src="index_files/figure-html/unnamed-chunk-5-1.png" width="50%" style="display: block; margin: auto;" /> --- # points (intermediate / advanced) layer (back to points!) Here, we can see our points colored by different criteria. ```r ggplot(mtcars)+ geom_point(aes(x = mpg, y = wt, color = factor(cyl), shape = factor(cyl), size = hp)) ``` <img src="index_files/figure-html/unnamed-chunk-6-1.png" width="50%" style="display: block; margin: auto;" /> --- # label layer ```r ggplot(mtcars)+ geom_point(aes(x = mpg, y = wt, color = factor(cyl), shape = factor(cyl), size = hp))+ labs(title = "Car MPG vs weight", x = &#39;Miles per gallon&#39;, y = &#39;Car weight&#39;, shape="Cylinders", size="Horsepower", color = "Cylinders", caption = "Source: mtcars") ``` <img src="index_files/figure-html/unnamed-chunk-7-1.png" width="50%" style="display: block; margin: auto;" /> --- # theme layer ```r ggplot(mtcars)+ geom_point(aes(x = mpg, y = wt, color = factor(cyl), shape = factor(cyl), size = hp))+ labs(title = "Car MPG vs weight", x = &#39;Miles per gallon&#39;, y = &#39;Car weight&#39;, shape="Cylinders", size="Horsepower", color = "Cylinders", caption = "Source: mtcars") + theme_bw() ``` <img src="index_files/figure-html/unnamed-chunk-8-1.png" width="40%" style="display: block; margin: auto;" /> --- # others ```r ggplot(mtcars)+ geom_point(aes(x = mpg, y = wt, color = factor(cyl), shape = factor(cyl), size = hp))+ labs(title = "Car MPG vs weight", x = &#39;Miles per gallon&#39;, y = &#39;Car weight&#39;, shape="Cylinders", size="Horsepower", color = "Cylinders", caption = "Source: mtcars") + theme_bw() + scale_color_manual(values = c("black", "gray", "blue") ) ``` <img src="index_files/figure-html/unnamed-chunk-9-1.png" width="40%" style="display: block; margin: auto;" /> --- # Final version! .pull-left[ ```r ggplot(mtcars)+ geom_point(aes(x = mpg, y = wt, color = factor(cyl), shape = factor(cyl), size = hp))+ labs(title = "Car MPG vs weight", x = &#39;Miles per gallon&#39;, y = &#39;Car weight&#39;, shape="Cylinders", size="Horsepower", color = "Cylinders", caption = "Source: mtcars") + theme_bw() + scale_color_manual(values = c("black", "gray", "blue") ) ``` ] .pull-right[ <img src="index_files/figure-html/unnamed-chunk-11-1.png" width="90%" style="display: block; margin: auto;" /> ] --- # Basic graph: gapminder > Which is the best name for our dataset? a) df or dat b) gapminder c) gapminder_2007 d) (something else) --- # Basic graph: gapminder (NOTE: BAD CODE (why?)) ```r data(gapminder) # note: not necessary but this will have it show up in your environment like with &#39;regular&#39; data ``` -- ### Why is this code better? ```r data(gapminder) # note: not necessary but this will # have it show up in your environment # like with &#39;regular&#39; data ``` -- Now, use yesterday&#39;s skills to explore the dataset. What might make a good `x&#39; or &#39;y&#39;? --- --- # Exercise: Gapminder <img src="index_files/figure-html/gapminder-over-time-1.gif" width="60%" style="display: block; margin: auto;" /> --- # Acknowledgments The content of these slides is derived in part from Sabrina Nardin&#39;s and Benjamin Soltoff’s “Computing for the Social Sciences” course materials, licensed under the CC BY NC 4.0 Creative Commons License. Any errors or oversights are mine alone.'><meta property="og:url" content="https://cfssmacss.netlify.app/slides/visualizations-and-the-grammar-of-graphics/"><meta property="og:site_name" content="CFSS: Computing for the Social Sciences"><meta property="og:title" content="CFSS: Computing for the Social Sciences"><meta property="og:description" content='<!DOCTYPE html> Visualizations and the Grammar of Graphics class: center, middle, inverse, title-slide .title[ # Visualizations and the Grammar of Graphics ] .author[ ### MACSS 30500 University of Chicago ] --- class: inverse, middle # Why visualize data? --- class: center, middle Consider the following 13 datasets: | ID| `\(N\)`| `\(\bar{X}\)`| `\(\bar{Y}\)`| `\(\sigma_{X}\)`| `\(\sigma_{Y}\)`| `\(R\)`| |--:|---:|---------:|---------:|------------:|------------:|----------:| | 1| 142| 54.26610| 47.83472| 16.76983| 26.93974| -0.0641284| | 2| 142| 54.26873| 47.83082| 16.76924| 26.93573| -0.0685864| | 3| 142| 54.26732| 47.83772| 16.76001| 26.93004| -0.0683434| | 4| 142| 54.26327| 47.83225| 16.76514| 26.93540| -0.0644719| | 5| 142| 54.26030| 47.83983| 16.76774| 26.93019| -0.0603414| | 6| 142| 54.26144| 47.83025| 16.76590| 26.93988| -0.0617148| | 7| 142| 54.26881| 47.83545| 16.76670| 26.94000| -0.0685042| | 8| 142| 54.26785| 47.83590| 16.76676| 26.93610| -0.0689797| | 9| 142| 54.26588| 47.83150| 16.76885| 26.93861| -0.0686092| | 10| 142| 54.26734| 47.83955| 16.76896| 26.93027| -0.0629611| | 11| 142| 54.26993| 47.83699| 16.76996| 26.93768| -0.0694456| | 12| 142| 54.26692| 47.83160| 16.77000| 26.93790| -0.0665752| | 13| 142| 54.26015| 47.83972| 16.76996| 26.93000| -0.0655833| --- class: center, middle If we estimate linear regression models for each dataset, we obtain virtually identical coefficients, again suggesting the relationships are identical <img src="index_files/figure-html/datasaurus-lm-1.png" width="80%" style="display: block; margin: auto;" /> --- class: center, middle But what happens if we draw a picture? <img src="index_files/figure-html/datasaurus-graph-1.gif" width="90%" style="display: block; margin: auto;" /> --- class: center, middle These 13 datasets have the same summary statistics, yet they are drastically different in appearance! <img src="index_files/figure-html/datasaurus-graph-static-1.png" width="90%" style="display: block; margin: auto;" /> --- class: inverse, middle # The Grammar of Graphics --- ## Grammar and Grammar of Graphics > A **Grammar** can be broadly defined as the whole system and structure of a language or of languages in general, usually taken as consisting of syntax and morphology (including inflections) and sometimes also phonology and semantics. It what makes communication possible > Applied to visualizations, a **Grammar of Graphics** is a grammar that makes it possibile to create a wide range of statistical graphics! --- ### Grammar of Graphics * A grammar used to create a wide range of statistical graphics * Grammar of graphics approach: implemented in **[`ggplot2`](https://cran.r-project.org/web/packages/ggplot2/index.html)**, a widely used graphics library for R * ggplot2 is part of the **[`tidyverse`](https://www.tidyverse.org/)** a collection of R packages designed for data science that share the same grammar and data structures. We will learn how to use multiple packages from tidyverse in this course. --- class: inverse, middle # Main components of the Grammar of Graphics > Go to "The Grammar of Graphics" notes in our website to follow along --- # Grammar of Graphics: the layer cake approach .footnote[*Thanks to Jennifer Lin for this metaphor*] * graph layer + * data layer + * label layer + * theme layer + * other layer + --- # Data: Gapminder and other data Gapminder data cover multiple countries over multiple years and include information on life expectancy and population. This is one of multiple &#39;sample&#39; datasets available for R (others including iris and mtcars). It&#39;s neat because to use it, you can just call `install.packages("gapminder")` and then `data(gapminder)`. --- # Basic graph: preloaded data Let&#39;s start with mtcars (you will see MANY EXAMPLES using this on stackoverflow). In a fresh Rmd file, create a code chunk that calls `data(mtcars)` ```r data(mtcars) head(mtcars) ``` ``` ## mpg cyl disp hp drat wt qsec vs am gear carb ## Mazda RX4 21.0 6 160 110 3.90 2.620 16.46 0 1 4 4 ## Mazda RX4 Wag 21.0 6 160 110 3.90 2.875 17.02 0 1 4 4 ## Datsun 710 22.8 4 108 93 3.85 2.320 18.61 1 1 4 1 ## Hornet 4 Drive 21.4 6 258 110 3.08 3.215 19.44 1 0 3 1 ## Hornet Sportabout 18.7 8 360 175 3.15 3.440 17.02 0 0 3 2 ## Valiant 18.1 6 225 105 2.76 3.460 20.22 1 0 3 1 ``` --- # Where we&#39;re going: graph somewhat prettiness <img src="index_files/figure-html/unnamed-chunk-2-1.png" width="80%" style="display: block; margin: auto;" /> --- # ggplot layer This layer sets up the graph itself. Note that if you just set the data, as I do here, you basically get a blank slate. -- I have told it what I want for the data and my respective axes but I haven&#39;t actually plotted anything yet! ```r ggplot(mtcars, aes(x = mpg, y = wt)) ``` <img src="index_files/figure-html/unnamed-chunk-3-1.png" width="50%" style="display: block; margin: auto;" /> --- # graph layer Then, we just add each element with a `+` after. Here, we have a few options for how we want the "things" on the graph to appear. Option 1: points. (note, there are multiple ways we could choose to set this up). ```r ggplot(mtcars, aes(x = mpg, y = wt)) + geom_point() ``` <img src="index_files/figure-html/unnamed-chunk-4-1.png" width="50%" style="display: block; margin: auto;" /> --- # graph layer Then, we just add each element with a `+` after. Here, we have a few options for how we want the "things" on the graph to appear. Option 2: text (note, there are multiple ways we could choose to set this up). ```r ggplot(mtcars, aes(x = mpg, y = wt)) + geom_text(label = rownames(mtcars), check_overlap = TRUE) ``` <img src="index_files/figure-html/unnamed-chunk-5-1.png" width="50%" style="display: block; margin: auto;" /> --- # points (intermediate / advanced) layer (back to points!) Here, we can see our points colored by different criteria. ```r ggplot(mtcars)+ geom_point(aes(x = mpg, y = wt, color = factor(cyl), shape = factor(cyl), size = hp)) ``` <img src="index_files/figure-html/unnamed-chunk-6-1.png" width="50%" style="display: block; margin: auto;" /> --- # label layer ```r ggplot(mtcars)+ geom_point(aes(x = mpg, y = wt, color = factor(cyl), shape = factor(cyl), size = hp))+ labs(title = "Car MPG vs weight", x = &#39;Miles per gallon&#39;, y = &#39;Car weight&#39;, shape="Cylinders", size="Horsepower", color = "Cylinders", caption = "Source: mtcars") ``` <img src="index_files/figure-html/unnamed-chunk-7-1.png" width="50%" style="display: block; margin: auto;" /> --- # theme layer ```r ggplot(mtcars)+ geom_point(aes(x = mpg, y = wt, color = factor(cyl), shape = factor(cyl), size = hp))+ labs(title = "Car MPG vs weight", x = &#39;Miles per gallon&#39;, y = &#39;Car weight&#39;, shape="Cylinders", size="Horsepower", color = "Cylinders", caption = "Source: mtcars") + theme_bw() ``` <img src="index_files/figure-html/unnamed-chunk-8-1.png" width="40%" style="display: block; margin: auto;" /> --- # others ```r ggplot(mtcars)+ geom_point(aes(x = mpg, y = wt, color = factor(cyl), shape = factor(cyl), size = hp))+ labs(title = "Car MPG vs weight", x = &#39;Miles per gallon&#39;, y = &#39;Car weight&#39;, shape="Cylinders", size="Horsepower", color = "Cylinders", caption = "Source: mtcars") + theme_bw() + scale_color_manual(values = c("black", "gray", "blue") ) ``` <img src="index_files/figure-html/unnamed-chunk-9-1.png" width="40%" style="display: block; margin: auto;" /> --- # Final version! .pull-left[ ```r ggplot(mtcars)+ geom_point(aes(x = mpg, y = wt, color = factor(cyl), shape = factor(cyl), size = hp))+ labs(title = "Car MPG vs weight", x = &#39;Miles per gallon&#39;, y = &#39;Car weight&#39;, shape="Cylinders", size="Horsepower", color = "Cylinders", caption = "Source: mtcars") + theme_bw() + scale_color_manual(values = c("black", "gray", "blue") ) ``` ] .pull-right[ <img src="index_files/figure-html/unnamed-chunk-11-1.png" width="90%" style="display: block; margin: auto;" /> ] --- # Basic graph: gapminder > Which is the best name for our dataset? a) df or dat b) gapminder c) gapminder_2007 d) (something else) --- # Basic graph: gapminder (NOTE: BAD CODE (why?)) ```r data(gapminder) # note: not necessary but this will have it show up in your environment like with &#39;regular&#39; data ``` -- ### Why is this code better? ```r data(gapminder) # note: not necessary but this will # have it show up in your environment # like with &#39;regular&#39; data ``` -- Now, use yesterday&#39;s skills to explore the dataset. What might make a good `x&#39; or &#39;y&#39;? --- --- # Exercise: Gapminder <img src="index_files/figure-html/gapminder-over-time-1.gif" width="60%" style="display: block; margin: auto;" /> --- # Acknowledgments The content of these slides is derived in part from Sabrina Nardin&#39;s and Benjamin Soltoff’s “Computing for the Social Sciences” course materials, licensed under the CC BY NC 4.0 Creative Commons License. Any errors or oversights are mine alone.'><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="slides"><meta itemprop=name content="CFSS: Computing for the Social Sciences"><meta itemprop=description content='<!DOCTYPE html> Visualizations and the Grammar of Graphics class: center, middle, inverse, title-slide .title[ # Visualizations and the Grammar of Graphics ] .author[ ### MACSS 30500 University of Chicago ] --- class: inverse, middle # Why visualize data? --- class: center, middle Consider the following 13 datasets: | ID| `\(N\)`| `\(\bar{X}\)`| `\(\bar{Y}\)`| `\(\sigma_{X}\)`| `\(\sigma_{Y}\)`| `\(R\)`| |--:|---:|---------:|---------:|------------:|------------:|----------:| | 1| 142| 54.26610| 47.83472| 16.76983| 26.93974| -0.0641284| | 2| 142| 54.26873| 47.83082| 16.76924| 26.93573| -0.0685864| | 3| 142| 54.26732| 47.83772| 16.76001| 26.93004| -0.0683434| | 4| 142| 54.26327| 47.83225| 16.76514| 26.93540| -0.0644719| | 5| 142| 54.26030| 47.83983| 16.76774| 26.93019| -0.0603414| | 6| 142| 54.26144| 47.83025| 16.76590| 26.93988| -0.0617148| | 7| 142| 54.26881| 47.83545| 16.76670| 26.94000| -0.0685042| | 8| 142| 54.26785| 47.83590| 16.76676| 26.93610| -0.0689797| | 9| 142| 54.26588| 47.83150| 16.76885| 26.93861| -0.0686092| | 10| 142| 54.26734| 47.83955| 16.76896| 26.93027| -0.0629611| | 11| 142| 54.26993| 47.83699| 16.76996| 26.93768| -0.0694456| | 12| 142| 54.26692| 47.83160| 16.77000| 26.93790| -0.0665752| | 13| 142| 54.26015| 47.83972| 16.76996| 26.93000| -0.0655833| --- class: center, middle If we estimate linear regression models for each dataset, we obtain virtually identical coefficients, again suggesting the relationships are identical <img src="index_files/figure-html/datasaurus-lm-1.png" width="80%" style="display: block; margin: auto;" /> --- class: center, middle But what happens if we draw a picture? <img src="index_files/figure-html/datasaurus-graph-1.gif" width="90%" style="display: block; margin: auto;" /> --- class: center, middle These 13 datasets have the same summary statistics, yet they are drastically different in appearance! <img src="index_files/figure-html/datasaurus-graph-static-1.png" width="90%" style="display: block; margin: auto;" /> --- class: inverse, middle # The Grammar of Graphics --- ## Grammar and Grammar of Graphics > A **Grammar** can be broadly defined as the whole system and structure of a language or of languages in general, usually taken as consisting of syntax and morphology (including inflections) and sometimes also phonology and semantics. It what makes communication possible > Applied to visualizations, a **Grammar of Graphics** is a grammar that makes it possibile to create a wide range of statistical graphics! --- ### Grammar of Graphics * A grammar used to create a wide range of statistical graphics * Grammar of graphics approach: implemented in **[`ggplot2`](https://cran.r-project.org/web/packages/ggplot2/index.html)**, a widely used graphics library for R * ggplot2 is part of the **[`tidyverse`](https://www.tidyverse.org/)** a collection of R packages designed for data science that share the same grammar and data structures. We will learn how to use multiple packages from tidyverse in this course. --- class: inverse, middle # Main components of the Grammar of Graphics > Go to "The Grammar of Graphics" notes in our website to follow along --- # Grammar of Graphics: the layer cake approach .footnote[*Thanks to Jennifer Lin for this metaphor*] * graph layer + * data layer + * label layer + * theme layer + * other layer + --- # Data: Gapminder and other data Gapminder data cover multiple countries over multiple years and include information on life expectancy and population. This is one of multiple &#39;sample&#39; datasets available for R (others including iris and mtcars). It&#39;s neat because to use it, you can just call `install.packages("gapminder")` and then `data(gapminder)`. --- # Basic graph: preloaded data Let&#39;s start with mtcars (you will see MANY EXAMPLES using this on stackoverflow). In a fresh Rmd file, create a code chunk that calls `data(mtcars)` ```r data(mtcars) head(mtcars) ``` ``` ## mpg cyl disp hp drat wt qsec vs am gear carb ## Mazda RX4 21.0 6 160 110 3.90 2.620 16.46 0 1 4 4 ## Mazda RX4 Wag 21.0 6 160 110 3.90 2.875 17.02 0 1 4 4 ## Datsun 710 22.8 4 108 93 3.85 2.320 18.61 1 1 4 1 ## Hornet 4 Drive 21.4 6 258 110 3.08 3.215 19.44 1 0 3 1 ## Hornet Sportabout 18.7 8 360 175 3.15 3.440 17.02 0 0 3 2 ## Valiant 18.1 6 225 105 2.76 3.460 20.22 1 0 3 1 ``` --- # Where we&#39;re going: graph somewhat prettiness <img src="index_files/figure-html/unnamed-chunk-2-1.png" width="80%" style="display: block; margin: auto;" /> --- # ggplot layer This layer sets up the graph itself. Note that if you just set the data, as I do here, you basically get a blank slate. -- I have told it what I want for the data and my respective axes but I haven&#39;t actually plotted anything yet! ```r ggplot(mtcars, aes(x = mpg, y = wt)) ``` <img src="index_files/figure-html/unnamed-chunk-3-1.png" width="50%" style="display: block; margin: auto;" /> --- # graph layer Then, we just add each element with a `+` after. Here, we have a few options for how we want the "things" on the graph to appear. Option 1: points. (note, there are multiple ways we could choose to set this up). ```r ggplot(mtcars, aes(x = mpg, y = wt)) + geom_point() ``` <img src="index_files/figure-html/unnamed-chunk-4-1.png" width="50%" style="display: block; margin: auto;" /> --- # graph layer Then, we just add each element with a `+` after. Here, we have a few options for how we want the "things" on the graph to appear. Option 2: text (note, there are multiple ways we could choose to set this up). ```r ggplot(mtcars, aes(x = mpg, y = wt)) + geom_text(label = rownames(mtcars), check_overlap = TRUE) ``` <img src="index_files/figure-html/unnamed-chunk-5-1.png" width="50%" style="display: block; margin: auto;" /> --- # points (intermediate / advanced) layer (back to points!) Here, we can see our points colored by different criteria. ```r ggplot(mtcars)+ geom_point(aes(x = mpg, y = wt, color = factor(cyl), shape = factor(cyl), size = hp)) ``` <img src="index_files/figure-html/unnamed-chunk-6-1.png" width="50%" style="display: block; margin: auto;" /> --- # label layer ```r ggplot(mtcars)+ geom_point(aes(x = mpg, y = wt, color = factor(cyl), shape = factor(cyl), size = hp))+ labs(title = "Car MPG vs weight", x = &#39;Miles per gallon&#39;, y = &#39;Car weight&#39;, shape="Cylinders", size="Horsepower", color = "Cylinders", caption = "Source: mtcars") ``` <img src="index_files/figure-html/unnamed-chunk-7-1.png" width="50%" style="display: block; margin: auto;" /> --- # theme layer ```r ggplot(mtcars)+ geom_point(aes(x = mpg, y = wt, color = factor(cyl), shape = factor(cyl), size = hp))+ labs(title = "Car MPG vs weight", x = &#39;Miles per gallon&#39;, y = &#39;Car weight&#39;, shape="Cylinders", size="Horsepower", color = "Cylinders", caption = "Source: mtcars") + theme_bw() ``` <img src="index_files/figure-html/unnamed-chunk-8-1.png" width="40%" style="display: block; margin: auto;" /> --- # others ```r ggplot(mtcars)+ geom_point(aes(x = mpg, y = wt, color = factor(cyl), shape = factor(cyl), size = hp))+ labs(title = "Car MPG vs weight", x = &#39;Miles per gallon&#39;, y = &#39;Car weight&#39;, shape="Cylinders", size="Horsepower", color = "Cylinders", caption = "Source: mtcars") + theme_bw() + scale_color_manual(values = c("black", "gray", "blue") ) ``` <img src="index_files/figure-html/unnamed-chunk-9-1.png" width="40%" style="display: block; margin: auto;" /> --- # Final version! .pull-left[ ```r ggplot(mtcars)+ geom_point(aes(x = mpg, y = wt, color = factor(cyl), shape = factor(cyl), size = hp))+ labs(title = "Car MPG vs weight", x = &#39;Miles per gallon&#39;, y = &#39;Car weight&#39;, shape="Cylinders", size="Horsepower", color = "Cylinders", caption = "Source: mtcars") + theme_bw() + scale_color_manual(values = c("black", "gray", "blue") ) ``` ] .pull-right[ <img src="index_files/figure-html/unnamed-chunk-11-1.png" width="90%" style="display: block; margin: auto;" /> ] --- # Basic graph: gapminder > Which is the best name for our dataset? a) df or dat b) gapminder c) gapminder_2007 d) (something else) --- # Basic graph: gapminder (NOTE: BAD CODE (why?)) ```r data(gapminder) # note: not necessary but this will have it show up in your environment like with &#39;regular&#39; data ``` -- ### Why is this code better? ```r data(gapminder) # note: not necessary but this will # have it show up in your environment # like with &#39;regular&#39; data ``` -- Now, use yesterday&#39;s skills to explore the dataset. What might make a good `x&#39; or &#39;y&#39;? --- --- # Exercise: Gapminder <img src="index_files/figure-html/gapminder-over-time-1.gif" width="60%" style="display: block; margin: auto;" /> --- # Acknowledgments The content of these slides is derived in part from Sabrina Nardin&#39;s and Benjamin Soltoff’s “Computing for the Social Sciences” course materials, licensed under the CC BY NC 4.0 Creative Commons License. Any errors or oversights are mine alone.'><meta itemprop=wordCount content="1298"><meta name=twitter:card content="summary"><meta name=twitter:title content="CFSS: Computing for the Social Sciences"><meta name=twitter:description content='<!DOCTYPE html> Visualizations and the Grammar of Graphics class: center, middle, inverse, title-slide .title[ # Visualizations and the Grammar of Graphics ] .author[ ### MACSS 30500 University of Chicago ] --- class: inverse, middle # Why visualize data? --- class: center, middle Consider the following 13 datasets: | ID| `\(N\)`| `\(\bar{X}\)`| `\(\bar{Y}\)`| `\(\sigma_{X}\)`| `\(\sigma_{Y}\)`| `\(R\)`| |--:|---:|---------:|---------:|------------:|------------:|----------:| | 1| 142| 54.26610| 47.83472| 16.76983| 26.93974| -0.0641284| | 2| 142| 54.26873| 47.83082| 16.76924| 26.93573| -0.0685864| | 3| 142| 54.26732| 47.83772| 16.76001| 26.93004| -0.0683434| | 4| 142| 54.26327| 47.83225| 16.76514| 26.93540| -0.0644719| | 5| 142| 54.26030| 47.83983| 16.76774| 26.93019| -0.0603414| | 6| 142| 54.26144| 47.83025| 16.76590| 26.93988| -0.0617148| | 7| 142| 54.26881| 47.83545| 16.76670| 26.94000| -0.0685042| | 8| 142| 54.26785| 47.83590| 16.76676| 26.93610| -0.0689797| | 9| 142| 54.26588| 47.83150| 16.76885| 26.93861| -0.0686092| | 10| 142| 54.26734| 47.83955| 16.76896| 26.93027| -0.0629611| | 11| 142| 54.26993| 47.83699| 16.76996| 26.93768| -0.0694456| | 12| 142| 54.26692| 47.83160| 16.77000| 26.93790| -0.0665752| | 13| 142| 54.26015| 47.83972| 16.76996| 26.93000| -0.0655833| --- class: center, middle If we estimate linear regression models for each dataset, we obtain virtually identical coefficients, again suggesting the relationships are identical <img src="index_files/figure-html/datasaurus-lm-1.png" width="80%" style="display: block; margin: auto;" /> --- class: center, middle But what happens if we draw a picture? <img src="index_files/figure-html/datasaurus-graph-1.gif" width="90%" style="display: block; margin: auto;" /> --- class: center, middle These 13 datasets have the same summary statistics, yet they are drastically different in appearance! <img src="index_files/figure-html/datasaurus-graph-static-1.png" width="90%" style="display: block; margin: auto;" /> --- class: inverse, middle # The Grammar of Graphics --- ## Grammar and Grammar of Graphics > A **Grammar** can be broadly defined as the whole system and structure of a language or of languages in general, usually taken as consisting of syntax and morphology (including inflections) and sometimes also phonology and semantics. It what makes communication possible > Applied to visualizations, a **Grammar of Graphics** is a grammar that makes it possibile to create a wide range of statistical graphics! --- ### Grammar of Graphics * A grammar used to create a wide range of statistical graphics * Grammar of graphics approach: implemented in **[`ggplot2`](https://cran.r-project.org/web/packages/ggplot2/index.html)**, a widely used graphics library for R * ggplot2 is part of the **[`tidyverse`](https://www.tidyverse.org/)** a collection of R packages designed for data science that share the same grammar and data structures. We will learn how to use multiple packages from tidyverse in this course. --- class: inverse, middle # Main components of the Grammar of Graphics > Go to "The Grammar of Graphics" notes in our website to follow along --- # Grammar of Graphics: the layer cake approach .footnote[*Thanks to Jennifer Lin for this metaphor*] * graph layer + * data layer + * label layer + * theme layer + * other layer + --- # Data: Gapminder and other data Gapminder data cover multiple countries over multiple years and include information on life expectancy and population. This is one of multiple &#39;sample&#39; datasets available for R (others including iris and mtcars). It&#39;s neat because to use it, you can just call `install.packages("gapminder")` and then `data(gapminder)`. --- # Basic graph: preloaded data Let&#39;s start with mtcars (you will see MANY EXAMPLES using this on stackoverflow). In a fresh Rmd file, create a code chunk that calls `data(mtcars)` ```r data(mtcars) head(mtcars) ``` ``` ## mpg cyl disp hp drat wt qsec vs am gear carb ## Mazda RX4 21.0 6 160 110 3.90 2.620 16.46 0 1 4 4 ## Mazda RX4 Wag 21.0 6 160 110 3.90 2.875 17.02 0 1 4 4 ## Datsun 710 22.8 4 108 93 3.85 2.320 18.61 1 1 4 1 ## Hornet 4 Drive 21.4 6 258 110 3.08 3.215 19.44 1 0 3 1 ## Hornet Sportabout 18.7 8 360 175 3.15 3.440 17.02 0 0 3 2 ## Valiant 18.1 6 225 105 2.76 3.460 20.22 1 0 3 1 ``` --- # Where we&#39;re going: graph somewhat prettiness <img src="index_files/figure-html/unnamed-chunk-2-1.png" width="80%" style="display: block; margin: auto;" /> --- # ggplot layer This layer sets up the graph itself. Note that if you just set the data, as I do here, you basically get a blank slate. -- I have told it what I want for the data and my respective axes but I haven&#39;t actually plotted anything yet! ```r ggplot(mtcars, aes(x = mpg, y = wt)) ``` <img src="index_files/figure-html/unnamed-chunk-3-1.png" width="50%" style="display: block; margin: auto;" /> --- # graph layer Then, we just add each element with a `+` after. Here, we have a few options for how we want the "things" on the graph to appear. Option 1: points. (note, there are multiple ways we could choose to set this up). ```r ggplot(mtcars, aes(x = mpg, y = wt)) + geom_point() ``` <img src="index_files/figure-html/unnamed-chunk-4-1.png" width="50%" style="display: block; margin: auto;" /> --- # graph layer Then, we just add each element with a `+` after. Here, we have a few options for how we want the "things" on the graph to appear. Option 2: text (note, there are multiple ways we could choose to set this up). ```r ggplot(mtcars, aes(x = mpg, y = wt)) + geom_text(label = rownames(mtcars), check_overlap = TRUE) ``` <img src="index_files/figure-html/unnamed-chunk-5-1.png" width="50%" style="display: block; margin: auto;" /> --- # points (intermediate / advanced) layer (back to points!) Here, we can see our points colored by different criteria. ```r ggplot(mtcars)+ geom_point(aes(x = mpg, y = wt, color = factor(cyl), shape = factor(cyl), size = hp)) ``` <img src="index_files/figure-html/unnamed-chunk-6-1.png" width="50%" style="display: block; margin: auto;" /> --- # label layer ```r ggplot(mtcars)+ geom_point(aes(x = mpg, y = wt, color = factor(cyl), shape = factor(cyl), size = hp))+ labs(title = "Car MPG vs weight", x = &#39;Miles per gallon&#39;, y = &#39;Car weight&#39;, shape="Cylinders", size="Horsepower", color = "Cylinders", caption = "Source: mtcars") ``` <img src="index_files/figure-html/unnamed-chunk-7-1.png" width="50%" style="display: block; margin: auto;" /> --- # theme layer ```r ggplot(mtcars)+ geom_point(aes(x = mpg, y = wt, color = factor(cyl), shape = factor(cyl), size = hp))+ labs(title = "Car MPG vs weight", x = &#39;Miles per gallon&#39;, y = &#39;Car weight&#39;, shape="Cylinders", size="Horsepower", color = "Cylinders", caption = "Source: mtcars") + theme_bw() ``` <img src="index_files/figure-html/unnamed-chunk-8-1.png" width="40%" style="display: block; margin: auto;" /> --- # others ```r ggplot(mtcars)+ geom_point(aes(x = mpg, y = wt, color = factor(cyl), shape = factor(cyl), size = hp))+ labs(title = "Car MPG vs weight", x = &#39;Miles per gallon&#39;, y = &#39;Car weight&#39;, shape="Cylinders", size="Horsepower", color = "Cylinders", caption = "Source: mtcars") + theme_bw() + scale_color_manual(values = c("black", "gray", "blue") ) ``` <img src="index_files/figure-html/unnamed-chunk-9-1.png" width="40%" style="display: block; margin: auto;" /> --- # Final version! .pull-left[ ```r ggplot(mtcars)+ geom_point(aes(x = mpg, y = wt, color = factor(cyl), shape = factor(cyl), size = hp))+ labs(title = "Car MPG vs weight", x = &#39;Miles per gallon&#39;, y = &#39;Car weight&#39;, shape="Cylinders", size="Horsepower", color = "Cylinders", caption = "Source: mtcars") + theme_bw() + scale_color_manual(values = c("black", "gray", "blue") ) ``` ] .pull-right[ <img src="index_files/figure-html/unnamed-chunk-11-1.png" width="90%" style="display: block; margin: auto;" /> ] --- # Basic graph: gapminder > Which is the best name for our dataset? a) df or dat b) gapminder c) gapminder_2007 d) (something else) --- # Basic graph: gapminder (NOTE: BAD CODE (why?)) ```r data(gapminder) # note: not necessary but this will have it show up in your environment like with &#39;regular&#39; data ``` -- ### Why is this code better? ```r data(gapminder) # note: not necessary but this will # have it show up in your environment # like with &#39;regular&#39; data ``` -- Now, use yesterday&#39;s skills to explore the dataset. What might make a good `x&#39; or &#39;y&#39;? --- --- # Exercise: Gapminder <img src="index_files/figure-html/gapminder-over-time-1.gif" width="60%" style="display: block; margin: auto;" /> --- # Acknowledgments The content of these slides is derived in part from Sabrina Nardin&#39;s and Benjamin Soltoff’s “Computing for the Social Sciences” course materials, licensed under the CC BY NC 4.0 Creative Commons License. Any errors or oversights are mine alone.'><link rel=preload href=/scss/main.min.2bf6e9109f6f32347205312f445c5d7dea681b9fd1802a211b5786faf06a9b77.css as=style integrity="sha256-K/bpEJ9vMjRyBTEvRFxdfepoG5/RgCohG1eG+vBqm3c=" crossorigin=anonymous><link href=/scss/main.min.2bf6e9109f6f32347205312f445c5d7dea681b9fd1802a211b5786faf06a9b77.css rel=stylesheet integrity="sha256-K/bpEJ9vMjRyBTEvRFxdfepoG5/RgCohG1eG+vBqm3c=" crossorigin=anonymous><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script></head><body class=td-page><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/><span class="navbar-brand__logo navbar-logo"></span><span class=navbar-brand__name>CFSS: Computing for the Social Sciences</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class=nav-item><a class=nav-link href=/><span>Home</span></a></li><li class=nav-item><a class=nav-link href=/syllabus/><span>Syllabus</span></a></li><li class=nav-item><a class=nav-link href=/schedule/><span>Schedule</span></a></li><li class=nav-item><a class=nav-link href=/assignments/><span>Assignments</span></a></li></ul></div><div class="d-none d-lg-block"></div></div></nav></header><div class="container-fluid td-default td-outer"><main role=main class=td-main><!doctype html><html lang xml:lang><head><title>Visualizations and the Grammar of Graphics</title><meta charset=utf-8><meta name=author content="MACSS 30500   University of Chicago"><script src=index_files/header-attrs/header-attrs.js></script><link rel=stylesheet href=xaringan-themer.css type=text/css></head><body><textarea id=source>
class: center, middle, inverse, title-slide

.title[
# Visualizations and the Grammar of Graphics
]
.author[
### MACSS 30500 <br /> University of Chicago
]

---






class: inverse, middle

# Why visualize data?

---

class: center, middle

Consider the following 13 datasets:


| ID| `\(N\)`| `\(\bar{X}\)`| `\(\bar{Y}\)`| `\(\sigma_{X}\)`| `\(\sigma_{Y}\)`|        `\(R\)`|
|--:|---:|---------:|---------:|------------:|------------:|----------:|
|  1| 142|  54.26610|  47.83472|     16.76983|     26.93974| -0.0641284|
|  2| 142|  54.26873|  47.83082|     16.76924|     26.93573| -0.0685864|
|  3| 142|  54.26732|  47.83772|     16.76001|     26.93004| -0.0683434|
|  4| 142|  54.26327|  47.83225|     16.76514|     26.93540| -0.0644719|
|  5| 142|  54.26030|  47.83983|     16.76774|     26.93019| -0.0603414|
|  6| 142|  54.26144|  47.83025|     16.76590|     26.93988| -0.0617148|
|  7| 142|  54.26881|  47.83545|     16.76670|     26.94000| -0.0685042|
|  8| 142|  54.26785|  47.83590|     16.76676|     26.93610| -0.0689797|
|  9| 142|  54.26588|  47.83150|     16.76885|     26.93861| -0.0686092|
| 10| 142|  54.26734|  47.83955|     16.76896|     26.93027| -0.0629611|
| 11| 142|  54.26993|  47.83699|     16.76996|     26.93768| -0.0694456|
| 12| 142|  54.26692|  47.83160|     16.77000|     26.93790| -0.0665752|
| 13| 142|  54.26015|  47.83972|     16.76996|     26.93000| -0.0655833|

---

class: center, middle

If we estimate linear regression models for each dataset, we obtain virtually identical coefficients, again suggesting the relationships are identical

&lt;img src="index_files/figure-html/datasaurus-lm-1.png" width="80%" style="display: block; margin: auto;" /&gt;

---

class: center, middle

But what happens if we draw a picture?

&lt;img src="index_files/figure-html/datasaurus-graph-1.gif" width="90%" style="display: block; margin: auto;" /&gt;

---

class: center, middle

These 13 datasets have the same summary statistics, yet they are drastically different in appearance!

&lt;img src="index_files/figure-html/datasaurus-graph-static-1.png" width="90%" style="display: block; margin: auto;" /&gt;

---

class: inverse, middle

# The Grammar of Graphics

---

## Grammar and Grammar of Graphics

&gt; A **Grammar** can be broadly defined as the whole system and structure of a language or of languages in general, usually taken as consisting of syntax and morphology (including inflections) and sometimes also phonology and semantics. It what makes communication possible


&gt; Applied to visualizations, a **Grammar of Graphics** is a grammar that makes it possibile to create a wide range of statistical graphics!

---

### Grammar of Graphics

* A grammar used to create a wide range of statistical graphics

* Grammar of graphics approach: implemented in **[`ggplot2`](https://cran.r-project.org/web/packages/ggplot2/index.html)**, a widely used graphics library for R

* ggplot2 is part of the **[`tidyverse`](https://www.tidyverse.org/)** a collection of R packages designed for data science that share the same grammar and data structures. We will learn how to use multiple packages from tidyverse in this course.

---

class: inverse, middle

# Main components of the Grammar of Graphics

&gt; Go to "The Grammar of Graphics" notes in our website to follow along


---

# Grammar of Graphics: the layer cake approach 
.footnote[*Thanks to Jennifer Lin for this metaphor*]
* graph layer +
* data layer + 
* label layer + 
* theme layer + 
* other layer + 



---

# Data: Gapminder and other data
Gapminder data cover multiple countries over multiple years and include information on life expectancy and population. This is one of multiple 'sample' datasets available for R (others including iris and mtcars). It's neat because to use it, you can just call `install.packages("gapminder")` and then `data(gapminder)`. 

---

# Basic graph: preloaded data

Let's start with mtcars (you will see MANY EXAMPLES using this on stackoverflow). In a fresh Rmd file, create a code chunk that calls `data(mtcars)`


```r
data(mtcars)
head(mtcars)
```

```
##                    mpg cyl disp  hp drat    wt  qsec vs am gear carb
## Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
## Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
## Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1
## Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2
## Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1
```

---

# Where we're going: graph somewhat prettiness

&lt;img src="index_files/figure-html/unnamed-chunk-2-1.png" width="80%" style="display: block; margin: auto;" /&gt;

---
  
# ggplot layer
  This layer sets up the graph itself. Note that if you just set the data, as I do here, you basically get a blank slate. 
  
--
  I have told it what I want for the data and my respective axes but I haven't actually plotted anything yet!

```r
ggplot(mtcars, aes(x = mpg, y = wt))
```

&lt;img src="index_files/figure-html/unnamed-chunk-3-1.png" width="50%" style="display: block; margin: auto;" /&gt;

---
# graph layer
  Then, we just add each element with a `+` after. Here, we have a few options for how we want the "things" on the graph to appear. Option 1: points. (note, there are multiple ways we could choose to set this up).
  

```r
ggplot(mtcars, aes(x = mpg, y = wt)) +
       geom_point()
```

&lt;img src="index_files/figure-html/unnamed-chunk-4-1.png" width="50%" style="display: block; margin: auto;" /&gt;

---
# graph layer
  Then, we just add each element with a `+` after. Here, we have a few options for how we want the "things" on the graph to appear. Option 2: text (note, there are multiple ways we could choose to set this up).
  

```r
ggplot(mtcars, aes(x = mpg, y = wt)) +
       geom_text(label = rownames(mtcars), check_overlap = TRUE) 
```

&lt;img src="index_files/figure-html/unnamed-chunk-5-1.png" width="50%" style="display: block; margin: auto;" /&gt;


---

# points (intermediate / advanced) layer (back to points!)
Here, we can see our points colored by different criteria. 


```r
ggplot(mtcars)+ 
       geom_point(aes(x = mpg, y = wt, 
                      color = factor(cyl),
                      shape = factor(cyl),
                      size = hp)) 
```

&lt;img src="index_files/figure-html/unnamed-chunk-6-1.png" width="50%" style="display: block; margin: auto;" /&gt;


---

# label layer 


```r
ggplot(mtcars)+ 
       geom_point(aes(x = mpg, y = wt, 
                      color = factor(cyl),
                      shape = factor(cyl),
                      size = hp))+ 
  labs(title = "Car MPG vs weight", 
       x = 'Miles per gallon',
       y = 'Car weight',
       shape="Cylinders", size="Horsepower", color = "Cylinders",
       caption = "Source: mtcars")
```

&lt;img src="index_files/figure-html/unnamed-chunk-7-1.png" width="50%" style="display: block; margin: auto;" /&gt;

---
  
# theme layer


```r
ggplot(mtcars)+ 
       geom_point(aes(x = mpg, y = wt, 
                      color = factor(cyl),
                      shape = factor(cyl),
                      size = hp))+ 
  labs(title = "Car MPG vs weight", 
       x = 'Miles per gallon',
       y = 'Car weight',
       shape="Cylinders", size="Horsepower", color = "Cylinders",
       caption = "Source: mtcars") +
  theme_bw()
```

&lt;img src="index_files/figure-html/unnamed-chunk-8-1.png" width="40%" style="display: block; margin: auto;" /&gt;

---
  
# others


```r
ggplot(mtcars)+ 
       geom_point(aes(x = mpg, y = wt, 
                      color = factor(cyl),
                      shape = factor(cyl),
                      size = hp))+ 
  labs(title = "Car MPG vs weight", 
       x = 'Miles per gallon',
       y = 'Car weight',
       shape="Cylinders", size="Horsepower", color = "Cylinders",
       caption = "Source: mtcars") +
  theme_bw() +
  scale_color_manual(values = c("black", "gray", "blue") ) 
```

&lt;img src="index_files/figure-html/unnamed-chunk-9-1.png" width="40%" style="display: block; margin: auto;" /&gt;

---
  
# Final version!

.pull-left[


```r
ggplot(mtcars)+ 
       geom_point(aes(x = mpg, y = wt, 
                      color = factor(cyl),
                      shape = factor(cyl),
                      size = hp))+ 
  labs(title = "Car MPG vs weight", 
       x = 'Miles per gallon',
       y = 'Car weight',
       shape="Cylinders", size="Horsepower", color = "Cylinders",
       caption = "Source: mtcars") +
  theme_bw() +
  scale_color_manual(values = c("black", "gray", "blue") ) 
```

]


.pull-right[
&lt;img src="index_files/figure-html/unnamed-chunk-11-1.png" width="90%" style="display: block; margin: auto;" /&gt;
]
---
  
# Basic graph: gapminder 
  

&gt;  Which is the best name for our dataset?    
   a) df or dat    
   b) gapminder   
   c) gapminder_2007   
   d) (something else)   
 

---
  
# Basic graph: gapminder 

(NOTE: BAD CODE (why?))  

```r
data(gapminder) # note: not necessary but this will have it show up in your environment like with 'regular' data
```

--

### Why is this code better? 

```r
data(gapminder) # note: not necessary but this will 
                                # have it show up in your environment 
                                # like with 'regular' data
```

--

Now, use yesterday's skills to explore the dataset. What might make a good `x' or 'y'? 

--- 

---

# Exercise: Gapminder

&lt;img src="index_files/figure-html/gapminder-over-time-1.gif" width="60%" style="display: block; margin: auto;" /&gt;

---

# Acknowledgments 

The content of these slides is derived in part from Sabrina Nardin's and Benjamin Soltoff’s “Computing for the Social Sciences” course materials, licensed under the CC BY NC 4.0 Creative Commons License. Any errors or oversights are mine alone.

    </textarea><style data-target=print-only>@media screen{.remark-slide-container{display:block}.remark-slide-scaler{box-shadow:none}}</style><script src=https://remarkjs.com/downloads/remark-latest.min.js></script><script>var slideshow=remark.create({highlightStyle:"magula",highlightLines:!0,highlightLanguage:"r",ratio:"16:9",countIncrementalSlides:!1});window.HTMLWidgets&&slideshow.on("afterShowSlide",function(){window.dispatchEvent(new Event("resize"))}),function(e){var t=e.createElement("style"),n=e.querySelector(".remark-slide-scaler");if(!n)return;t.type="text/css",t.innerHTML="@page {size: "+n.style.width+" "+n.style.height+"; }",e.head.appendChild(t)}(document),function(e){if(s=e.getElementsByClassName("remark-slides-area"),!s)return;for(var n,s,o,i=slideshow.getSlides(),a=s[0].children,t=1;t<i.length;t++)o=i[t],(o.properties.continued==="true"||o.properties.count==="false")&&(a[t-1].className+=" has-continuation");n=e.createElement("style"),n.type="text/css",n.innerHTML="@media print { .has-continuation { display: none; } }",e.head.appendChild(n)}(document),function(){var e=!1;slideshow.on("beforeShowSlide",function(){if(e)return;for(var n,o=document.styleSheets,s=0;s<o.length;s++){if(n=o[s].ownerNode,n.dataset.target!=="print-only")continue;n.parentNode.removeChild(n)}e=!0})}(),function(e){let t={};e.querySelectorAll(".remark-help-content table tr").forEach(e=>{const n=e.querySelector("td:nth-child(2)").innerText;e.querySelectorAll("td:first-child .key").forEach(e=>{const s=e.innerText;/^[a-z]$/.test(s)&&(t[s]=n)})}),e.body.setAttribute("data-at-shortcutkeys",JSON.stringify(t))}(document),function(){"use strict";var e,n,s,o,i,t=document.querySelectorAll(".remark-slides-area .remark-slide-container script");if(!t.length)return;for(e=0;e<t.length;e++){s=document.createElement("script"),i=document.createTextNode(t[e].textContent),s.appendChild(i);for(o=t[e].attributes,n=0;n<o.length;n++)s.setAttribute(o[n].name,o[n].value);t[e].parentElement.replaceChild(s,t[e])}}(),function(){for(var t=document.getElementsByTagName("a"),e=0;e<t.length;e++)/^(https?:)?\/\//.test(t[e].getAttribute("href"))&&(t[e].target="_blank")}(),function(e){const s=e.querySelectorAll(".remark-code-line-highlighted"),t=[],n=function(e,t=0){if(t>1)return null;const s=e.parentElement;return s.tagName==="PRE"?s:n(s,++t)};for(let o of s){let e=n(o);e&&!t.includes(e)&&t.push(e)}t.forEach(e=>e.classList.add("remark-code-has-line-highlighted"))}(document)</script><script>slideshow._releaseMath=function(e){var t,n,s,o=e.getElementsByTagName("code");for(s=0;s<o.length;){if(t=o[s],t.parentNode.tagName!=="PRE"&&t.childElementCount===0&&(n=t.textContent,/^\\\((.|\s)+\\\)$/.test(n)||/^\\\[(.|\s)+\\\]$/.test(n)||/^\$\$(.|\s)+\$\$$/.test(n)||/^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(n))){t.outerHTML=t.innerHTML;continue}s++}},slideshow._releaseMath(document)</script><script>(function(){var e=document.createElement("script");e.type="text/javascript",e.src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML",location.protocol!=="file:"&&/^https?:/.test(e.src)&&(e.src=e.src.replace(/^https?:/,"")),document.getElementsByTagName("head")[0].appendChild(e)})()</script></body></html></main><!doctype html><html><head><meta charset=utf-8><meta http-equiv=Content-Style-Type content="text/css"><title></title><meta name=Generator content="Cocoa HTML Writer"><meta name=CocoaVersion content="2299.7"><style type=text/css>p.p1{margin:0px;font:12px Times;-webkit-text-stroke:#000000}p.p2{margin:0px 0px 12px;font:12px Times;color:#0000e9;-webkit-text-stroke:#0000e9}li.li3{margin:0px;font:12px Times;-webkit-text-stroke:#000000;min-height:14px}span.s1{font-kerning:none}span.s2{font:10px Times;font-kerning:none}span.s3{text-decoration:underline;font-kerning:none}ul.ul1{list-style-type:disc}</style></head><body><p class=p1><span class=s1></span></p><p class=p1><span class=s1></span></p><p class=p1><span class=s1></span></p><p class=p1><span class=s1></span><span class=s2>© 2025 Jean Clipperton (materials adapted from Benjamin Soltoff and Sabrina Nardin) All Rights Reserved</span><span class=s1> <span class=Apple-converted-space> </span></span></p><p class=p1><span class=s1></span></p></body></html></div><script src=/js/main.min.8c87303b31e50afa09a774582c268712d6bb31cd6df1cdcb4573f32abeab7551.js integrity="sha256-jIcwOzHlCvoJp3RYLCaHEta7Mc1t8c3LRXPzKr6rdVE=" crossorigin=anonymous></script><script defer src=/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script><script src=/js/tabpane-persist.js></script></body></html>